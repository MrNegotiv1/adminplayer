<!DOCTYPE html>
<html lang="ru">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Админ Панель для токенов</title>
    <style>
        body {
            font-family: Arial, sans-serif;
            padding: 20px;
        }
        .token-list {
            margin-top: 20px;
        }
        .token {
            margin-bottom: 10px;
            padding: 10px;
            background-color: #f0f0f0;
            border-radius: 5px;
        }
        button {
            padding: 5px 10px;
            margin: 0 5px;
            cursor: pointer;
        }
        .active {
            background-color: green;
            color: white;
        }
        .inactive {
            background-color: red;
            color: white;
        }
    </style>
</head>
<body>
    <h1>Админ Панель для токенов</h1>
    <button id="generate-token">Сгенерировать токен</button>
    <button id="export-tokens">Экспортировать токены</button>
    <h3>Список токенов:</h3>
    <div class="token-list" id="token-list"></div>

    <script>
        // Хранилище токенов
        let tokens = JSON.parse(localStorage.getItem('tokens')) || [];

        // Отображение токенов
        function displayTokens() {
            const tokenList = document.getElementById('token-list');
            tokenList.innerHTML = '';
            tokens.forEach((tokenObj, index) => {
                const tokenDiv = document.createElement('div');
                tokenDiv.classList.add('token');
                tokenDiv.innerHTML = `
                    <strong>Токен: </strong>${tokenObj.token}<br>
                    <strong>Статус: </strong> <span class="${tokenObj.active ? 'active' : 'inactive'}">${tokenObj.active ? 'Активен' : 'Неактивен'}</span><br>
                    <button onclick="toggleToken(${index})">${tokenObj.active ? 'Деактивировать' : 'Активировать'}</button>
                    <button onclick="deleteToken(${index})">Удалить</button>
                `;
                tokenList.appendChild(tokenDiv);
            });
        }

        // Генерация токена
        function generateToken() {
            const token = Math.random().toString(36).substring(2, 15);
            tokens.push({ token: token, active: true });
            localStorage.setItem('tokens', JSON.stringify(tokens));
            displayTokens();
        }

        // Активация/деактивация токена
        function toggleToken(index) {
            tokens[index].active = !tokens[index].active;
            localStorage.setItem('tokens', JSON.stringify(tokens));
            displayTokens();
        }

        // Удаление токена
        function deleteToken(index) {
            tokens.splice(index, 1);
            localStorage.setItem('tokens', JSON.stringify(tokens));
            displayTokens();
        }

        // Экспорт токенов
        function exportTokens() {
            const data = new Blob([JSON.stringify(tokens, null, 4)], { type: 'application/json' });
            const url = URL.createObjectURL(data);
            const a = document.createElement('a');
            a.href = url;
            a.download = 'tokens.json';
            a.click();
            URL.revokeObjectURL(url);
        }

        // Обработчики событий
        document.getElementById('generate-token').addEventListener('click', generateToken);
        document.getElementById('export-tokens').addEventListener('click', exportTokens);

        // Отобразить токены при загрузке
        displayTokens();
    </script>
</body>
</html>
